---
Name: ecommerce_product_variation
Before: 'app/*'
After: ['#coreconfig', '#cmsextensions', '#ecommerce']
---

Product:
  extensions:
    - ProductWithVariationDecorator

ProductController:
  extensions:
    - ProductWithVariationDecoratorController
  allowed_actions:
    - VariationForm
    - addvariation


SilverStripe\Admin\LeftAndMain:
  extra_requirements_javascript:
    - framework/thirdparty/jquery/jquery.js
    - framework/thirdparty/jquery-entwine/dist/jquery.entwine-dist.js
    - ecommerce_product_variation/javascript/CreateEcommerceVariationsField.js
    - ecommerce_product_variation/javascript/DeleteEcommerceVariations.js
  extra_requirements_themedCss:
    CreateEcommerceVariationsField:
      media: ecommerce_product_variation


EcommerceDatabaseAdmin:
  extensions:
    - EcommerceProductVariationTaskDeleteVariations_EXT
    - EcommerceProductVariationTaskDeleteAll_EXT
    - EcommerceTaskCSVToVariations_EXT

ProductConfigModelAdmin:
  managed_models:
    - ProductVariation
    - ProductAttributeType
    - ProductAttributeValue

---
Only:
  classexists: 'DataObjectSorterDOD'
---

ProductAttributeValue:
  extensions:
    - DataObjectSorterDOD

ProductAttributeType:
  extensions:
    - DataObjectSorterDOD
